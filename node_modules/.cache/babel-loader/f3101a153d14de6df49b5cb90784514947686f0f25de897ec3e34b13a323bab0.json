{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.camelCase = camelCase;\nexports.validateAccountName = validateAccountName;\nexports.buildWitnessUpdateOp = buildWitnessUpdateOp;\nexports.autoDetectApiVersion = autoDetectApiVersion;\nvar _types = require(\"./auth/serializer/src/types\");\nvar _types2 = _interopRequireDefault(_types);\nvar _serializer = require(\"./auth/serializer/src/serializer\");\nvar _serializer2 = _interopRequireDefault(_serializer);\nvar _config = require(\"./config\");\nvar _config2 = _interopRequireDefault(_config);\nvar _http = require(\"./api/transports/http\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nvar ByteBuffer = require('bytebuffer');\nvar uint16 = _types2.default.uint16,\n  uint32 = _types2.default.uint32,\n  string = _types2.default.string,\n  public_key = _types2.default.public_key,\n  asset = _types2.default.asset;\nvar snakeCaseRe = /_([a-z])/g;\nfunction camelCase(str) {\n  return str.replace(snakeCaseRe, function (_m, l) {\n    return l.toUpperCase();\n  });\n}\nfunction validateAccountName(value) {\n  var i = void 0,\n    label = void 0,\n    len = void 0,\n    suffix = void 0;\n  suffix = \"Account name should \";\n  if (!value) {\n    return suffix + \"not be empty.\";\n  }\n  var length = value.length;\n  if (length < 3) {\n    return suffix + \"be longer.\";\n  }\n  if (length > 16) {\n    return suffix + \"be shorter.\";\n  }\n  if (/\\./.test(value)) {\n    suffix = \"Each account segment should \";\n  }\n  var ref = value.split(\".\");\n  for (i = 0, len = ref.length; i < len; i++) {\n    label = ref[i];\n    if (!/^[a-z]/.test(label)) {\n      return suffix + \"start with a letter.\";\n    }\n    if (!/^[a-z0-9-]*$/.test(label)) {\n      return suffix + \"have only letters, digits, or dashes.\";\n    }\n    // Multiple dashes in a row is VALID\n    // if (/--/.test(label)) {\n    //   return suffix + \"have only one dash in a row.\";\n    // }\n    if (!/[a-z0-9]$/.test(label)) {\n      return suffix + \"end with a letter or digit.\";\n    }\n    if (!(label.length >= 3)) {\n      return suffix + \"be longer\";\n    }\n  }\n  return null;\n}\n\n// Hack to be able to generate a valid witness_set_properties op\n// Can hopefully be removed when hived's JSON representation is fixed\nvar price = new _serializer2.default(\"price\", {\n  base: asset,\n  quote: asset\n});\nfunction serialize(serializer, data) {\n  var buffer = new ByteBuffer(ByteBuffer.DEFAULT_CAPACITY, ByteBuffer.LITTLE_ENDIAN);\n  serializer.appendByteBuffer(buffer, data);\n  buffer.flip();\n  return buffer.toString('hex');\n}\nfunction buildWitnessUpdateOp(owner, props) {\n  var data = {\n    extensions: [],\n    owner: owner,\n    props: []\n  };\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n  try {\n    for (var _iterator = Object.keys(props)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var key = _step.value;\n      var type = void 0;\n      switch (key) {\n        case \"key\":\n        case \"new_signing_key\":\n          type = public_key;\n          break;\n        case \"account_subsidy_budget\":\n        case \"account_subsidy_decay\":\n        case \"maximum_block_size\":\n          type = uint32;\n          break;\n        case \"hbd_interest_rate\":\n          type = uint16;\n          break;\n        case \"url\":\n          type = string;\n          break;\n        case \"hbd_exchange_rate\":\n          type = price;\n          break;\n        case \"account_creation_fee\":\n          type = asset;\n          break;\n        default:\n          throw new Error(\"Unknown witness prop: \" + key);\n      }\n      data.props.push([key, serialize(type, props[key])]);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n  data.props.sort(function (a, b) {\n    return a[0].localeCompare(b[0]);\n  });\n  return [\"witness_set_properties\", data];\n}\nfunction autoDetectApiVersion() {\n  console.log('Warning: call to autoDetectApiVersion() is deprecated and can safely be removed');\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","camelCase","validateAccountName","buildWitnessUpdateOp","autoDetectApiVersion","_types","require","_types2","_interopRequireDefault","_serializer","_serializer2","_config","_config2","_http","obj","__esModule","default","ByteBuffer","uint16","uint32","string","public_key","asset","snakeCaseRe","str","replace","_m","l","toUpperCase","i","label","len","suffix","length","test","ref","split","price","base","quote","serialize","serializer","data","buffer","DEFAULT_CAPACITY","LITTLE_ENDIAN","appendByteBuffer","flip","toString","owner","props","extensions","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_iterator","keys","Symbol","iterator","_step","next","done","key","type","Error","push","err","return","sort","a","b","localeCompare","console","log"],"sources":["C:/Users/sunil/kalakaari/node_modules/@hiveio/hive-js/lib/utils.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.camelCase = camelCase;\nexports.validateAccountName = validateAccountName;\nexports.buildWitnessUpdateOp = buildWitnessUpdateOp;\nexports.autoDetectApiVersion = autoDetectApiVersion;\n\nvar _types = require(\"./auth/serializer/src/types\");\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _serializer = require(\"./auth/serializer/src/serializer\");\n\nvar _serializer2 = _interopRequireDefault(_serializer);\n\nvar _config = require(\"./config\");\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _http = require(\"./api/transports/http\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ByteBuffer = require('bytebuffer');\n\nvar uint16 = _types2.default.uint16,\n    uint32 = _types2.default.uint32,\n    string = _types2.default.string,\n    public_key = _types2.default.public_key,\n    asset = _types2.default.asset;\n\n\nvar snakeCaseRe = /_([a-z])/g;\nfunction camelCase(str) {\n  return str.replace(snakeCaseRe, function (_m, l) {\n    return l.toUpperCase();\n  });\n}\n\nfunction validateAccountName(value) {\n  var i = void 0,\n      label = void 0,\n      len = void 0,\n      suffix = void 0;\n\n  suffix = \"Account name should \";\n  if (!value) {\n    return suffix + \"not be empty.\";\n  }\n  var length = value.length;\n  if (length < 3) {\n    return suffix + \"be longer.\";\n  }\n  if (length > 16) {\n    return suffix + \"be shorter.\";\n  }\n  if (/\\./.test(value)) {\n    suffix = \"Each account segment should \";\n  }\n  var ref = value.split(\".\");\n  for (i = 0, len = ref.length; i < len; i++) {\n    label = ref[i];\n    if (!/^[a-z]/.test(label)) {\n      return suffix + \"start with a letter.\";\n    }\n    if (!/^[a-z0-9-]*$/.test(label)) {\n      return suffix + \"have only letters, digits, or dashes.\";\n    }\n    // Multiple dashes in a row is VALID\n    // if (/--/.test(label)) {\n    //   return suffix + \"have only one dash in a row.\";\n    // }\n    if (!/[a-z0-9]$/.test(label)) {\n      return suffix + \"end with a letter or digit.\";\n    }\n    if (!(label.length >= 3)) {\n      return suffix + \"be longer\";\n    }\n  }\n  return null;\n}\n\n// Hack to be able to generate a valid witness_set_properties op\n// Can hopefully be removed when hived's JSON representation is fixed\nvar price = new _serializer2.default(\"price\", {\n  base: asset,\n  quote: asset\n});\n\nfunction serialize(serializer, data) {\n  var buffer = new ByteBuffer(ByteBuffer.DEFAULT_CAPACITY, ByteBuffer.LITTLE_ENDIAN);\n  serializer.appendByteBuffer(buffer, data);\n  buffer.flip();\n  return buffer.toString('hex');\n}\nfunction buildWitnessUpdateOp(owner, props) {\n  var data = {\n    extensions: [],\n    owner: owner,\n    props: []\n  };\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = Object.keys(props)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var key = _step.value;\n\n      var type = void 0;\n      switch (key) {\n        case \"key\":\n        case \"new_signing_key\":\n          type = public_key;\n          break;\n        case \"account_subsidy_budget\":\n        case \"account_subsidy_decay\":\n        case \"maximum_block_size\":\n          type = uint32;\n          break;\n        case \"hbd_interest_rate\":\n          type = uint16;\n          break;\n        case \"url\":\n          type = string;\n          break;\n        case \"hbd_exchange_rate\":\n          type = price;\n          break;\n        case \"account_creation_fee\":\n          type = asset;\n          break;\n        default:\n          throw new Error(\"Unknown witness prop: \" + key);\n      }\n      data.props.push([key, serialize(type, props[key])]);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  data.props.sort(function (a, b) {\n    return a[0].localeCompare(b[0]);\n  });\n  return [\"witness_set_properties\", data];\n}\n\nfunction autoDetectApiVersion() {\n  console.log('Warning: call to autoDetectApiVersion() is deprecated and can safely be removed');\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}