{"ast":null,"code":"'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\nvar _bluebird = require('bluebird');\nvar _bluebird2 = _interopRequireDefault(_bluebird);\nvar _debug = require('debug');\nvar _debug2 = _interopRequireDefault(_debug);\nvar _helpers = require('./helpers');\nvar _helpers2 = _interopRequireDefault(_helpers);\nvar _formatter = require('../formatter');\nvar _formatter2 = _interopRequireDefault(_formatter);\nvar _api = require('../api');\nvar _api2 = _interopRequireDefault(_api);\nvar _auth = require('../auth');\nvar _auth2 = _interopRequireDefault(_auth);\nvar _utils = require('../utils');\nvar _operations = require('../auth/serializer/src/operations');\nvar _ecc = require('../auth/ecc');\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nvar operations = require('./operations');\nvar config = require('../config');\nvar debug = (0, _debug2.default)('hive:broadcast');\nvar noop = function noop() {};\nvar formatter = (0, _formatter2.default)(_api2.default);\nfunction getTransactionStatus(trxId, expiration) {\n  var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3000;\n  return new _bluebird2.default(function (resolve, reject) {\n    setTimeout(function () {\n      _api2.default.findTransactionAsync(trxId, expiration).then(function (res) {\n        resolve(res);\n      });\n    }, time);\n  });\n}\nvar hiveBroadcast = {};\n\n// Base transaction logic -----------------------------------------------------\n\n/**\n * Sign and broadcast transactions on the hive network\n */\n\nhiveBroadcast.send = function hiveBroadcast$send(tx, privKeys, callback) {\n  var trxId = void 0;\n  var resultP = hiveBroadcast._prepareTransaction(tx).then(function (transaction) {\n    if (config.get(\"address_prefix\") === \"TST\") {\n      transaction.operations = JSON.parse(JSON.stringify(transaction.operations).replace(/ HIVE/g, ' TESTS'));\n      transaction.operations = JSON.parse(JSON.stringify(transaction.operations).replace(/ HBD/g, ' TBD'));\n    }\n    debug('Signing transaction (transaction, transaction.operations)', transaction, transaction.operations);\n    var buf = _operations.transaction.toBuffer(transaction);\n    trxId = _ecc.hash.sha256(buf).toString('hex').slice(0, 40);\n    return _bluebird2.default.join(transaction, _auth2.default.signTransaction(transaction, privKeys));\n  }).spread(function (transaction, signedTransaction) {\n    debug('Broadcasting transaction (transaction, transaction.operations)', transaction, transaction.operations);\n    return _api2.default.broadcastTransactionAsync(signedTransaction).then(function (result) {\n      return Object.assign({\n        id: trxId\n      }, result, signedTransaction);\n    });\n  });\n  resultP.nodeify(callback || noop);\n};\nhiveBroadcast._prepareTransaction = function hiveBroadcast$_prepareTransaction(tx) {\n  var propertiesP = _api2.default.getDynamicGlobalPropertiesAsync();\n  return propertiesP.then(function (properties) {\n    // Set defaults on the transaction\n    var chainDate = new Date(properties.time + 'Z');\n    var refBlockNum = properties.last_irreversible_block_num - 1 & 0xFFFF;\n    return _api2.default.getBlockHeaderAsync(properties.last_irreversible_block_num).then(function (block) {\n      var headBlockId = block ? block.previous : '0000000000000000000000000000000000000000';\n      return Object.assign({\n        ref_block_num: refBlockNum,\n        ref_block_prefix: new Buffer(headBlockId, 'hex').readUInt32LE(4),\n        expiration: new Date(chainDate.getTime() + 600 * 1000)\n      }, tx);\n    });\n  });\n};\n\n// Generated wrapper ----------------------------------------------------------\noperations.forEach(function (operation) {\n  var operationName = (0, _utils.camelCase)(operation.operation);\n  var operationParams = operation.params || [];\n  var useCommentPermlink = operationParams.indexOf('parent_author') !== -1 && operationParams.indexOf('parent_permlink') !== -1;\n  hiveBroadcast[operationName + 'With'] = function hiveBroadcast$specializedSendWith(wif, options, callback) {\n    debug('Sending operation \"' + operationName + '\" with', {\n      options: options,\n      callback: callback\n    });\n    var keys = {};\n    if (operation.roles && operation.roles.length) {\n      keys[operation.roles[0]] = wif; // TODO - Automatically pick a role? Send all?\n    }\n    return hiveBroadcast.send({\n      extensions: [],\n      operations: [[operation.operation, Object.assign({}, options, options.json_metadata != null ? {\n        json_metadata: toString(options.json_metadata)\n      } : {}, useCommentPermlink && options.permlink == null ? {\n        permlink: formatter.commentPermlink(options.parent_author, options.parent_permlink)\n      } : {})]]\n    }, keys, callback);\n  };\n  hiveBroadcast[operationName] = function hiveBroadcast$specializedSend(wif) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    debug('Parsing operation \"' + operationName + '\" with', {\n      args: args\n    });\n    var options = operationParams.reduce(function (memo, param, i) {\n      memo[param] = args[i]; // eslint-disable-line no-param-reassign\n      return memo;\n    }, {});\n    var callback = args[operationParams.length];\n    return hiveBroadcast[operationName + 'With'](wif, options, callback);\n  };\n});\nhiveBroadcast.updateOperations = function () {\n  console.log('Warning: call to updateOperations() is deprecated and can safely be removed');\n};\nvar toString = function toString(obj) {\n  return (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' ? JSON.stringify(obj) : obj;\n};\n(0, _helpers2.default)(hiveBroadcast);\n_bluebird2.default.promisifyAll(hiveBroadcast);\nexports = module.exports = hiveBroadcast;","map":{"version":3,"names":["_typeof","Symbol","iterator","obj","constructor","prototype","_bluebird","require","_bluebird2","_interopRequireDefault","_debug","_debug2","_helpers","_helpers2","_formatter","_formatter2","_api","_api2","_auth","_auth2","_utils","_operations","_ecc","__esModule","default","operations","config","debug","noop","formatter","getTransactionStatus","trxId","expiration","time","arguments","length","undefined","resolve","reject","setTimeout","findTransactionAsync","then","res","hiveBroadcast","send","hiveBroadcast$send","tx","privKeys","callback","resultP","_prepareTransaction","transaction","get","JSON","parse","stringify","replace","buf","toBuffer","hash","sha256","toString","slice","join","signTransaction","spread","signedTransaction","broadcastTransactionAsync","result","Object","assign","id","nodeify","hiveBroadcast$_prepareTransaction","propertiesP","getDynamicGlobalPropertiesAsync","properties","chainDate","Date","refBlockNum","last_irreversible_block_num","getBlockHeaderAsync","block","headBlockId","previous","ref_block_num","ref_block_prefix","Buffer","readUInt32LE","getTime","forEach","operation","operationName","camelCase","operationParams","params","useCommentPermlink","indexOf","hiveBroadcast$specializedSendWith","wif","options","keys","roles","extensions","json_metadata","permlink","commentPermlink","parent_author","parent_permlink","hiveBroadcast$specializedSend","_len","args","Array","_key","reduce","memo","param","i","updateOperations","console","log","promisifyAll","exports","module"],"sources":["C:/Users/sunil/kalakaari/node_modules/@hiveio/hive-js/lib/broadcast/index.js"],"sourcesContent":["'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _helpers = require('./helpers');\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _formatter = require('../formatter');\n\nvar _formatter2 = _interopRequireDefault(_formatter);\n\nvar _api = require('../api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _auth = require('../auth');\n\nvar _auth2 = _interopRequireDefault(_auth);\n\nvar _utils = require('../utils');\n\nvar _operations = require('../auth/serializer/src/operations');\n\nvar _ecc = require('../auth/ecc');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar operations = require('./operations');\nvar config = require('../config');\n\nvar debug = (0, _debug2.default)('hive:broadcast');\nvar noop = function noop() {};\nvar formatter = (0, _formatter2.default)(_api2.default);\n\nfunction getTransactionStatus(trxId, expiration) {\n  var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3000;\n\n  return new _bluebird2.default(function (resolve, reject) {\n    setTimeout(function () {\n      _api2.default.findTransactionAsync(trxId, expiration).then(function (res) {\n        resolve(res);\n      });\n    }, time);\n  });\n}\n\nvar hiveBroadcast = {};\n\n// Base transaction logic -----------------------------------------------------\n\n/**\n * Sign and broadcast transactions on the hive network\n */\n\nhiveBroadcast.send = function hiveBroadcast$send(tx, privKeys, callback) {\n  var trxId = void 0;\n  var resultP = hiveBroadcast._prepareTransaction(tx).then(function (transaction) {\n    if (config.get(\"address_prefix\") === \"TST\") {\n      transaction.operations = JSON.parse(JSON.stringify(transaction.operations).replace(/ HIVE/g, ' TESTS'));\n      transaction.operations = JSON.parse(JSON.stringify(transaction.operations).replace(/ HBD/g, ' TBD'));\n    }\n    debug('Signing transaction (transaction, transaction.operations)', transaction, transaction.operations);\n    var buf = _operations.transaction.toBuffer(transaction);\n    trxId = _ecc.hash.sha256(buf).toString('hex').slice(0, 40);\n    return _bluebird2.default.join(transaction, _auth2.default.signTransaction(transaction, privKeys));\n  }).spread(function (transaction, signedTransaction) {\n    debug('Broadcasting transaction (transaction, transaction.operations)', transaction, transaction.operations);\n    return _api2.default.broadcastTransactionAsync(signedTransaction).then(function (result) {\n      return Object.assign({ id: trxId }, result, signedTransaction);\n    });\n  });\n\n  resultP.nodeify(callback || noop);\n};\n\nhiveBroadcast._prepareTransaction = function hiveBroadcast$_prepareTransaction(tx) {\n  var propertiesP = _api2.default.getDynamicGlobalPropertiesAsync();\n  return propertiesP.then(function (properties) {\n    // Set defaults on the transaction\n    var chainDate = new Date(properties.time + 'Z');\n    var refBlockNum = properties.last_irreversible_block_num - 1 & 0xFFFF;\n    return _api2.default.getBlockHeaderAsync(properties.last_irreversible_block_num).then(function (block) {\n      var headBlockId = block ? block.previous : '0000000000000000000000000000000000000000';\n      return Object.assign({\n        ref_block_num: refBlockNum,\n        ref_block_prefix: new Buffer(headBlockId, 'hex').readUInt32LE(4),\n        expiration: new Date(chainDate.getTime() + 600 * 1000)\n      }, tx);\n    });\n  });\n};\n\n// Generated wrapper ----------------------------------------------------------\noperations.forEach(function (operation) {\n  var operationName = (0, _utils.camelCase)(operation.operation);\n  var operationParams = operation.params || [];\n\n  var useCommentPermlink = operationParams.indexOf('parent_author') !== -1 && operationParams.indexOf('parent_permlink') !== -1;\n\n  hiveBroadcast[operationName + 'With'] = function hiveBroadcast$specializedSendWith(wif, options, callback) {\n    debug('Sending operation \"' + operationName + '\" with', { options: options, callback: callback });\n    var keys = {};\n    if (operation.roles && operation.roles.length) {\n      keys[operation.roles[0]] = wif; // TODO - Automatically pick a role? Send all?\n    }\n\n    return hiveBroadcast.send({\n      extensions: [],\n      operations: [[operation.operation, Object.assign({}, options, options.json_metadata != null ? {\n        json_metadata: toString(options.json_metadata)\n      } : {}, useCommentPermlink && options.permlink == null ? {\n        permlink: formatter.commentPermlink(options.parent_author, options.parent_permlink)\n      } : {})]]\n    }, keys, callback);\n  };\n\n  hiveBroadcast[operationName] = function hiveBroadcast$specializedSend(wif) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    debug('Parsing operation \"' + operationName + '\" with', { args: args });\n    var options = operationParams.reduce(function (memo, param, i) {\n      memo[param] = args[i]; // eslint-disable-line no-param-reassign\n      return memo;\n    }, {});\n    var callback = args[operationParams.length];\n    return hiveBroadcast[operationName + 'With'](wif, options, callback);\n  };\n});\n\nhiveBroadcast.updateOperations = function () {\n  console.log('Warning: call to updateOperations() is deprecated and can safely be removed');\n};\n\nvar toString = function toString(obj) {\n  return (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' ? JSON.stringify(obj) : obj;\n};\n(0, _helpers2.default)(hiveBroadcast);\n\n_bluebird2.default.promisifyAll(hiveBroadcast);\n\nexports = module.exports = hiveBroadcast;"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,OAAO,GAAG,OAAOC,MAAM,KAAK,UAAU,IAAI,OAAOA,MAAM,CAACC,QAAQ,KAAK,QAAQ,GAAG,UAAUC,GAAG,EAAE;EAAE,OAAO,OAAOA,GAAG;AAAE,CAAC,GAAG,UAAUA,GAAG,EAAE;EAAE,OAAOA,GAAG,IAAI,OAAOF,MAAM,KAAK,UAAU,IAAIE,GAAG,CAACC,WAAW,KAAKH,MAAM,IAAIE,GAAG,KAAKF,MAAM,CAACI,SAAS,GAAG,QAAQ,GAAG,OAAOF,GAAG;AAAE,CAAC;AAE5Q,IAAIG,SAAS,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEnC,IAAIC,UAAU,GAAGC,sBAAsB,CAACH,SAAS,CAAC;AAElD,IAAII,MAAM,GAAGH,OAAO,CAAC,OAAO,CAAC;AAE7B,IAAII,OAAO,GAAGF,sBAAsB,CAACC,MAAM,CAAC;AAE5C,IAAIE,QAAQ,GAAGL,OAAO,CAAC,WAAW,CAAC;AAEnC,IAAIM,SAAS,GAAGJ,sBAAsB,CAACG,QAAQ,CAAC;AAEhD,IAAIE,UAAU,GAAGP,OAAO,CAAC,cAAc,CAAC;AAExC,IAAIQ,WAAW,GAAGN,sBAAsB,CAACK,UAAU,CAAC;AAEpD,IAAIE,IAAI,GAAGT,OAAO,CAAC,QAAQ,CAAC;AAE5B,IAAIU,KAAK,GAAGR,sBAAsB,CAACO,IAAI,CAAC;AAExC,IAAIE,KAAK,GAAGX,OAAO,CAAC,SAAS,CAAC;AAE9B,IAAIY,MAAM,GAAGV,sBAAsB,CAACS,KAAK,CAAC;AAE1C,IAAIE,MAAM,GAAGb,OAAO,CAAC,UAAU,CAAC;AAEhC,IAAIc,WAAW,GAAGd,OAAO,CAAC,mCAAmC,CAAC;AAE9D,IAAIe,IAAI,GAAGf,OAAO,CAAC,aAAa,CAAC;AAEjC,SAASE,sBAAsBA,CAACN,GAAG,EAAE;EAAE,OAAOA,GAAG,IAAIA,GAAG,CAACoB,UAAU,GAAGpB,GAAG,GAAG;IAAEqB,OAAO,EAAErB;EAAI,CAAC;AAAE;AAE9F,IAAIsB,UAAU,GAAGlB,OAAO,CAAC,cAAc,CAAC;AACxC,IAAImB,MAAM,GAAGnB,OAAO,CAAC,WAAW,CAAC;AAEjC,IAAIoB,KAAK,GAAG,CAAC,CAAC,EAAEhB,OAAO,CAACa,OAAO,EAAE,gBAAgB,CAAC;AAClD,IAAII,IAAI,GAAG,SAASA,IAAIA,CAAA,EAAG,CAAC,CAAC;AAC7B,IAAIC,SAAS,GAAG,CAAC,CAAC,EAAEd,WAAW,CAACS,OAAO,EAAEP,KAAK,CAACO,OAAO,CAAC;AAEvD,SAASM,oBAAoBA,CAACC,KAAK,EAAEC,UAAU,EAAE;EAC/C,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI;EAEnF,OAAO,IAAI1B,UAAU,CAACgB,OAAO,CAAC,UAAUa,OAAO,EAAEC,MAAM,EAAE;IACvDC,UAAU,CAAC,YAAY;MACrBtB,KAAK,CAACO,OAAO,CAACgB,oBAAoB,CAACT,KAAK,EAAEC,UAAU,CAAC,CAACS,IAAI,CAAC,UAAUC,GAAG,EAAE;QACxEL,OAAO,CAACK,GAAG,CAAC;MACd,CAAC,CAAC;IACJ,CAAC,EAAET,IAAI,CAAC;EACV,CAAC,CAAC;AACJ;AAEA,IAAIU,aAAa,GAAG,CAAC,CAAC;;AAEtB;;AAEA;AACA;AACA;;AAEAA,aAAa,CAACC,IAAI,GAAG,SAASC,kBAAkBA,CAACC,EAAE,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;EACvE,IAAIjB,KAAK,GAAG,KAAK,CAAC;EAClB,IAAIkB,OAAO,GAAGN,aAAa,CAACO,mBAAmB,CAACJ,EAAE,CAAC,CAACL,IAAI,CAAC,UAAUU,WAAW,EAAE;IAC9E,IAAIzB,MAAM,CAAC0B,GAAG,CAAC,gBAAgB,CAAC,KAAK,KAAK,EAAE;MAC1CD,WAAW,CAAC1B,UAAU,GAAG4B,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACJ,WAAW,CAAC1B,UAAU,CAAC,CAAC+B,OAAO,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;MACvGL,WAAW,CAAC1B,UAAU,GAAG4B,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACJ,WAAW,CAAC1B,UAAU,CAAC,CAAC+B,OAAO,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IACtG;IACA7B,KAAK,CAAC,2DAA2D,EAAEwB,WAAW,EAAEA,WAAW,CAAC1B,UAAU,CAAC;IACvG,IAAIgC,GAAG,GAAGpC,WAAW,CAAC8B,WAAW,CAACO,QAAQ,CAACP,WAAW,CAAC;IACvDpB,KAAK,GAAGT,IAAI,CAACqC,IAAI,CAACC,MAAM,CAACH,GAAG,CAAC,CAACI,QAAQ,CAAC,KAAK,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;IAC1D,OAAOtD,UAAU,CAACgB,OAAO,CAACuC,IAAI,CAACZ,WAAW,EAAEhC,MAAM,CAACK,OAAO,CAACwC,eAAe,CAACb,WAAW,EAAEJ,QAAQ,CAAC,CAAC;EACpG,CAAC,CAAC,CAACkB,MAAM,CAAC,UAAUd,WAAW,EAAEe,iBAAiB,EAAE;IAClDvC,KAAK,CAAC,gEAAgE,EAAEwB,WAAW,EAAEA,WAAW,CAAC1B,UAAU,CAAC;IAC5G,OAAOR,KAAK,CAACO,OAAO,CAAC2C,yBAAyB,CAACD,iBAAiB,CAAC,CAACzB,IAAI,CAAC,UAAU2B,MAAM,EAAE;MACvF,OAAOC,MAAM,CAACC,MAAM,CAAC;QAAEC,EAAE,EAAExC;MAAM,CAAC,EAAEqC,MAAM,EAAEF,iBAAiB,CAAC;IAChE,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFjB,OAAO,CAACuB,OAAO,CAACxB,QAAQ,IAAIpB,IAAI,CAAC;AACnC,CAAC;AAEDe,aAAa,CAACO,mBAAmB,GAAG,SAASuB,iCAAiCA,CAAC3B,EAAE,EAAE;EACjF,IAAI4B,WAAW,GAAGzD,KAAK,CAACO,OAAO,CAACmD,+BAA+B,CAAC,CAAC;EACjE,OAAOD,WAAW,CAACjC,IAAI,CAAC,UAAUmC,UAAU,EAAE;IAC5C;IACA,IAAIC,SAAS,GAAG,IAAIC,IAAI,CAACF,UAAU,CAAC3C,IAAI,GAAG,GAAG,CAAC;IAC/C,IAAI8C,WAAW,GAAGH,UAAU,CAACI,2BAA2B,GAAG,CAAC,GAAG,MAAM;IACrE,OAAO/D,KAAK,CAACO,OAAO,CAACyD,mBAAmB,CAACL,UAAU,CAACI,2BAA2B,CAAC,CAACvC,IAAI,CAAC,UAAUyC,KAAK,EAAE;MACrG,IAAIC,WAAW,GAAGD,KAAK,GAAGA,KAAK,CAACE,QAAQ,GAAG,0CAA0C;MACrF,OAAOf,MAAM,CAACC,MAAM,CAAC;QACnBe,aAAa,EAAEN,WAAW;QAC1BO,gBAAgB,EAAE,IAAIC,MAAM,CAACJ,WAAW,EAAE,KAAK,CAAC,CAACK,YAAY,CAAC,CAAC,CAAC;QAChExD,UAAU,EAAE,IAAI8C,IAAI,CAACD,SAAS,CAACY,OAAO,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI;MACvD,CAAC,EAAE3C,EAAE,CAAC;IACR,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;;AAED;AACArB,UAAU,CAACiE,OAAO,CAAC,UAAUC,SAAS,EAAE;EACtC,IAAIC,aAAa,GAAG,CAAC,CAAC,EAAExE,MAAM,CAACyE,SAAS,EAAEF,SAAS,CAACA,SAAS,CAAC;EAC9D,IAAIG,eAAe,GAAGH,SAAS,CAACI,MAAM,IAAI,EAAE;EAE5C,IAAIC,kBAAkB,GAAGF,eAAe,CAACG,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,IAAIH,eAAe,CAACG,OAAO,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;EAE7HtD,aAAa,CAACiD,aAAa,GAAG,MAAM,CAAC,GAAG,SAASM,iCAAiCA,CAACC,GAAG,EAAEC,OAAO,EAAEpD,QAAQ,EAAE;IACzGrB,KAAK,CAAC,qBAAqB,GAAGiE,aAAa,GAAG,QAAQ,EAAE;MAAEQ,OAAO,EAAEA,OAAO;MAAEpD,QAAQ,EAAEA;IAAS,CAAC,CAAC;IACjG,IAAIqD,IAAI,GAAG,CAAC,CAAC;IACb,IAAIV,SAAS,CAACW,KAAK,IAAIX,SAAS,CAACW,KAAK,CAACnE,MAAM,EAAE;MAC7CkE,IAAI,CAACV,SAAS,CAACW,KAAK,CAAC,CAAC,CAAC,CAAC,GAAGH,GAAG,CAAC,CAAC;IAClC;IAEA,OAAOxD,aAAa,CAACC,IAAI,CAAC;MACxB2D,UAAU,EAAE,EAAE;MACd9E,UAAU,EAAE,CAAC,CAACkE,SAAS,CAACA,SAAS,EAAEtB,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAE8B,OAAO,EAAEA,OAAO,CAACI,aAAa,IAAI,IAAI,GAAG;QAC5FA,aAAa,EAAE3C,QAAQ,CAACuC,OAAO,CAACI,aAAa;MAC/C,CAAC,GAAG,CAAC,CAAC,EAAER,kBAAkB,IAAII,OAAO,CAACK,QAAQ,IAAI,IAAI,GAAG;QACvDA,QAAQ,EAAE5E,SAAS,CAAC6E,eAAe,CAACN,OAAO,CAACO,aAAa,EAAEP,OAAO,CAACQ,eAAe;MACpF,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACV,CAAC,EAAEP,IAAI,EAAErD,QAAQ,CAAC;EACpB,CAAC;EAEDL,aAAa,CAACiD,aAAa,CAAC,GAAG,SAASiB,6BAA6BA,CAACV,GAAG,EAAE;IACzE,KAAK,IAAIW,IAAI,GAAG5E,SAAS,CAACC,MAAM,EAAE4E,IAAI,GAAGC,KAAK,CAACF,IAAI,GAAG,CAAC,GAAGA,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAEG,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGH,IAAI,EAAEG,IAAI,EAAE,EAAE;MACtGF,IAAI,CAACE,IAAI,GAAG,CAAC,CAAC,GAAG/E,SAAS,CAAC+E,IAAI,CAAC;IAClC;IAEAtF,KAAK,CAAC,qBAAqB,GAAGiE,aAAa,GAAG,QAAQ,EAAE;MAAEmB,IAAI,EAAEA;IAAK,CAAC,CAAC;IACvE,IAAIX,OAAO,GAAGN,eAAe,CAACoB,MAAM,CAAC,UAAUC,IAAI,EAAEC,KAAK,EAAEC,CAAC,EAAE;MAC7DF,IAAI,CAACC,KAAK,CAAC,GAAGL,IAAI,CAACM,CAAC,CAAC,CAAC,CAAC;MACvB,OAAOF,IAAI;IACb,CAAC,EAAE,CAAC,CAAC,CAAC;IACN,IAAInE,QAAQ,GAAG+D,IAAI,CAACjB,eAAe,CAAC3D,MAAM,CAAC;IAC3C,OAAOQ,aAAa,CAACiD,aAAa,GAAG,MAAM,CAAC,CAACO,GAAG,EAAEC,OAAO,EAAEpD,QAAQ,CAAC;EACtE,CAAC;AACH,CAAC,CAAC;AAEFL,aAAa,CAAC2E,gBAAgB,GAAG,YAAY;EAC3CC,OAAO,CAACC,GAAG,CAAC,6EAA6E,CAAC;AAC5F,CAAC;AAED,IAAI3D,QAAQ,GAAG,SAASA,QAAQA,CAAC1D,GAAG,EAAE;EACpC,OAAO,CAAC,OAAOA,GAAG,KAAK,WAAW,GAAG,WAAW,GAAGH,OAAO,CAACG,GAAG,CAAC,MAAM,QAAQ,GAAGkD,IAAI,CAACE,SAAS,CAACpD,GAAG,CAAC,GAAGA,GAAG;AAC3G,CAAC;AACD,CAAC,CAAC,EAAEU,SAAS,CAACW,OAAO,EAAEmB,aAAa,CAAC;AAErCnC,UAAU,CAACgB,OAAO,CAACiG,YAAY,CAAC9E,aAAa,CAAC;AAE9C+E,OAAO,GAAGC,MAAM,CAACD,OAAO,GAAG/E,aAAa","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}